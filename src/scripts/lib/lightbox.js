!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof module&&module.exports?module.exports=t():e.lightbox=t()}("undefined"!=typeof window?window:this,(function(){return function(e,t){"use strict";var n={captions:!0,captionsSelector:"self",captionAttribute:"title",nav:"auto",navText:["&lsaquo;","&rsaquo;"],close:!0,closeText:"&times;",counter:!0,keyboard:!0,zoom:!0,zoomText:"&plus;",docClose:!1,swipeClose:!0,scroll:!1},i=[],o=null,a=[],l=0,c={},s=!1,r=null,d=document.createElement("div");d.setAttribute("role","dialog"),d.setAttribute("aria-hidden","true"),d.classList.add("lightbox-overlay"),document.getElementsByTagName("body")[0].appendChild(d);var u=document.createElement("div");u.classList.add("lightbox-slider"),d.appendChild(u);var m=document.createElement("button");m.setAttribute("type","button"),m.setAttribute("aria-label","Previous"),d.appendChild(m);var g=document.createElement("button");g.setAttribute("type","button"),g.setAttribute("aria-label","Next"),d.appendChild(g);var v=document.createElement("button");v.setAttribute("type","button"),v.setAttribute("aria-label","Close"),d.appendChild(v);var b=document.createElement("div");b.classList.add("lightbox-counter"),d.appendChild(b);var f=function(e,t){if(void 0!==i[e]&&void 0!==a[e])if(a[e].getElementsByTagName("img")[0].hasAttribute("data-src")){var n=a[e].getElementsByTagName("figure")[0],o=n.getElementsByTagName("img")[0],l=n.getElementsByTagName("figcaption")[0];o.onload=function(){var e=n.querySelector(".lightbox-loader");n.removeChild(e),o.style.opacity="1",l&&(l.style.opacity="1")},o.setAttribute("src",o.getAttribute("data-src")),o.removeAttribute("data-src"),t&&t()}else t&&t()},h=function(){var e=100*-l+"%";void 0!==u.style.perspective?u.style.transform="translate("+e+", 0)":u.style.left=e},p=function(){b.innerHTML=l+1+"/"+o},y=function(e){m.disabled=!1,g.disabled=!1,l===o-1?(m.disabled=!1,g.disabled=!0):0===l&&(m.disabled=!0,g.disabled=!1),n.nav?g.disabled||"left"===e?m.focus():g.focus():n.close&&v.focus()},E=function(e){f(e)},L=function(){l<o-1&&(l++,h(),p(),y(),E(l+1))},A=function(){l>0&&(l--,h(),p(),y(),E(l-1))},T=function(){"true"!==d.getAttribute("aria-hidden")&&(n.scroll||(document.documentElement.classList.remove("lightbox-no-scroll"),document.body.classList.remove("lightbox-no-scroll")),H(),d.setAttribute("aria-hidden","true"),r.focus())},x=function(e){this===m?(A(),y("left")):this===g?(L(),y("right")):(this===v||this===d&&-1!==e.target.id.indexOf("lightbox-content"))&&T(),e.preventDefault()},C=function(e){switch(e.keyCode){case 37:A(),y("left");break;case 39:L(),y("right");break;case 27:T()}},k=function(e){c.count++,c.count>1&&(c.multitouch=!0),c.startX=e.changedTouches[0].pageX,c.startY=e.changedTouches[0].pageY},N=function(e){s||c.multitouch||(c.moveX=e.changedTouches[0].pageX,c.moveY=e.changedTouches[0].pageY,c.moveX-c.startX>50?(s=!0,A()):c.moveX-c.startX<-50?(s=!0,L()):n.swipeClose&&c.startY-c.moveY>100&&T(),e.preventDefault())},B=function(){c.count--,c.count<=0&&(c.multitouch=!1),s=!1},X=function(e){"false"!==d.getAttribute("aria-hidden")||d.contains(e.target)||(e.stopPropagation(),y())},w=function(){n.keyboard&&document.addEventListener("keyup",C,!1),n.docClose&&d.addEventListener("click",x,!1),m.addEventListener("click",x,!1),g.addEventListener("click",x,!1),v.addEventListener("click",x,!1),d.addEventListener("touchstart",k,!1),d.addEventListener("touchmove",N,!1),d.addEventListener("touchend",B,!1),document.addEventListener("focus",X,!0)},H=function(){n.keyboard&&document.removeEventListener("keyup",C,!1),n.docClose&&d.removeEventListener("click",x,!1),m.removeEventListener("click",x,!1),g.removeEventListener("click",x,!1),v.removeEventListener("click",x,!1),d.removeEventListener("touchstart",k,!1),d.removeEventListener("touchmove",N,!1),d.removeEventListener("touchend",B,!1),document.removeEventListener("focus",X,!0)};!function(e,t){t&&function(e,t){Object.keys(e).forEach((function(n){t[n]=e[n]}))}(t,n);var s=document.querySelectorAll(e);s.length?([].forEach.call(s,(function(e,t){if(n.zoom&&e.getElementsByTagName("img")[0]){var o=document.createElement("div");o.classList.add("lightbox-zoom"),o.innerHTML=n.zoomText,e.appendChild(o)}e.addEventListener("click",(function(e){!function(e){"false"!==d.getAttribute("aria-hidden")&&(n.scroll||(document.documentElement.classList.add("lightbox-no-scroll"),document.body.classList.add("lightbox-no-scroll")),r=document.activeElement,l=e,c={count:0,startX:null,startY:null,moveX:null,moveY:null},w(),f(l,(function(){E(l+1),E(l-1)})),h(),p(),d.setAttribute("aria-hidden","false"),y())}(t),e.preventDefault()}),!0),i.push({selector:e})})),o=i.length,function(){for(var e=0,t=0,l=null,c=[],s=null,r=[];e<o;++e){a[e]=document.createElement("div"),a[e].classList.add("lightbox-content"),a[e].id="lightbox-content-"+e,(l=document.createElement("figure")).innerHTML='<div class="lightbox-loader"></div>';var f=document.createElement("img");f.style.opacity="0",i[e].selector.getElementsByTagName("img")[0]&&i[e].selector.getElementsByTagName("img")[0].alt?f.alt=i[e].selector.getElementsByTagName("img")[0].alt:f.alt="",f.setAttribute("src",""),f.setAttribute("data-src",i[e].selector.href),l.appendChild(f),n.captions&&((s=document.createElement("figcaption")).style.opacity="0","self"==n.captionsSelector&&i[e].selector.getAttribute(n.captionAttribute)?s.innerHTML=i[e].selector.getAttribute(n.captionAttribute):"img"==n.captionsSelector&&i[e].selector.getElementsByTagName("img")[0].getAttribute(n.captionAttribute)&&(s.innerHTML=i[e].selector.getElementsByTagName("img")[0].getAttribute(n.captionAttribute)),s.innerHTML&&(l.id="lightbox-figure-"+t,s.id="lightbox-figcaption-"+t,l.appendChild(s),c.push("lightbox-figure-"+t),r.push("lightbox-figcaption-"+t),++t)),a[e].appendChild(l),u.appendChild(a[e])}0!==t&&(d.setAttribute("aria-labelledby",c.join(" ")),d.setAttribute("aria-describedby",r.join(" "))),!n.nav||1===o||"auto"===n.nav&&"ontouchstart"in window?(m.style.display="none",g.style.display="none"):(m.innerHTML=n.navText[0],g.innerHTML=n.navText[1]),n.counter&&1!==o||(b.style.display="none"),n.close?v.innerHTML=n.closeText:v.style.display="none"}()):console.log("Ups, I can't find the selector \""+e+'".')}(e,t)}}));